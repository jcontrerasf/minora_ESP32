/* main.c - Application main entry point */

/*
 * Copyright (c) 2015-2016 Intel Corporation
 *
 * SPDX-License-Identifier: Apache-2.0
 */

#include <zephyr/types.h>
#include <stddef.h>
#include <string.h>
#include <errno.h>
#include <zephyr/sys/printk.h>
#include <zephyr/sys/byteorder.h>
#include <zephyr/kernel.h>

#include <time.h>
#include <zephyr/sys/timeutil.h>
#include <zephyr/display/cfb.h>
#include <zephyr/drivers/display.h>
#include <zephyr/display/ssd16xx.h>
#include <zephyr/logging/log.h>

#include <zephyr/bluetooth/bluetooth.h>
#include <zephyr/bluetooth/hci.h>
#include <zephyr/bluetooth/conn.h>
#include <zephyr/bluetooth/uuid.h>
#include <zephyr/bluetooth/gatt.h>

#include <zephyr/kernel.h>
#include <zephyr/net/net_if.h>
#include <zephyr/net/wifi_mgmt.h>
#include <zephyr/net/net_event.h>

// #include "../EPD/EPAPER.h"

// static const struct device *display = DEVICE_DT_GET(DT_NODELABEL(ssd1675a));

const unsigned char gImage_concepto_minora[4736] = { /* 0X01,0X01,0X28,0X01,0X80,0X00, */
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0X07,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF8,0X01,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF0,0X00,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF0,0X00,0X01,0XF0,0X7F,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XE0,0X00,0X03,0X0C,0X7F,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XE0,0XFF,0XFE,0X04,0X3F,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XC7,0XFF,0XFC,0X02,0X3F,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XC7,0XF8,0X00,0X02,0X3F,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XC7,0XF8,0X00,0X02,0X3F,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XC7,0XFF,0XFC,0X02,0X3F,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XE0,0XFF,0XFE,0X04,0X3F,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XE0,0X00,0X03,0X0C,0X7F,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF0,0X00,0X01,0XF0,0X7F,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF0,0X00,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF8,0X01,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF1,0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0X07,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF1,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X1F,0XF1,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X0F,0XE3,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XF0,0X00,0X7F,0XFF,0XFF,0X8F,0XF3,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XF0,0X00,0X7F,0XFF,0XFF,0X87,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XF0,0XFF,0XFF,0XFF,0XFF,0XCF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFC,0X1F,0XFF,0XFF,0XFF,0XFE,0X03,0XE0,0X1F,0XFF,0XFF,0XC3,0XF8,0X7F,0XFF,
0XFF,0XFF,0X8F,0XFF,0XFF,0XFF,0XF8,0X00,0X80,0X07,0XFF,0XFF,0XC3,0XF8,0X7F,0XFF,
0XFF,0XFC,0X1F,0XFF,0XFF,0XFF,0XF0,0X00,0X07,0X83,0XFF,0XFF,0XC3,0XF8,0X7F,0XFF,
0XFF,0XF1,0XFF,0XFF,0XFF,0XFF,0XE1,0XFC,0X1F,0XE1,0XFF,0XFF,0XC0,0X00,0X7F,0XFF,
0XFF,0XF0,0X00,0X7F,0XFF,0XFF,0XC3,0XFC,0X3F,0XF1,0XFF,0XFF,0X80,0X00,0X7F,0XFF,
0XFF,0XF0,0X00,0X7F,0XFF,0XC1,0XC7,0XFC,0X7F,0XF8,0XFF,0XFF,0X00,0X00,0X7F,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XC0,0X8F,0XF8,0XFF,0XF8,0XFF,0XFF,0X00,0X00,0X7F,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XE0,0X8F,0XF8,0XFF,0XFC,0XFF,0XFF,0X00,0X00,0X7F,0XFF,
0XFF,0XFF,0XFE,0X7F,0XFF,0XFF,0X8F,0XF8,0XFF,0XFC,0X7F,0XFF,0XFF,0XF8,0X7F,0XFF,
0XFF,0XFE,0X7E,0X7F,0XFF,0XFF,0X8F,0XF8,0XFF,0XFC,0X7F,0XFF,0XFF,0XF8,0X7F,0XFF,
0XFF,0XFE,0X7E,0X7F,0XFF,0XFF,0X8F,0XE0,0XFF,0XFC,0X7F,0XFF,0XFF,0XF8,0X7F,0XFF,
0XFF,0XFE,0X7E,0X7F,0XFF,0XFF,0X8F,0X80,0XFF,0XFC,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XE2,0X00,0X7F,0XFF,0XFF,0X8F,0X07,0XFF,0XFC,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XE2,0X00,0X7F,0XFF,0XFF,0XC6,0X1F,0XFF,0XFC,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFE,0X7F,0XFF,0XFF,0XC0,0X7F,0XFF,0XFC,0X7F,0XFF,0XFF,0X3F,0XFF,0XFF,
0XFF,0XFF,0XFE,0X7F,0XFF,0XF8,0XE0,0XFF,0XFF,0XFC,0X7F,0XFF,0XFE,0X0F,0XFF,0XFF,
0XFF,0XFF,0XFE,0X7F,0XFF,0XF0,0XF0,0XFF,0XFF,0XFC,0X7F,0XFF,0XFC,0X0F,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XE1,0XF1,0XFF,0XFF,0XFC,0X7F,0XFF,0XF8,0X0F,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XE3,0XF1,0XFF,0XFF,0XFC,0X7F,0XFF,0XF0,0X8F,0XFF,0XFF,
0XFF,0XFF,0XC3,0XFF,0XFF,0XFF,0XF3,0XFF,0XFF,0XFC,0X7F,0XFF,0XE1,0X8F,0XFF,0XFF,
0XFF,0XFF,0X00,0XFF,0XFF,0XFF,0XF3,0XFF,0XFF,0XFC,0X7F,0XFF,0XC3,0X8C,0X7F,0XFF,
0XFF,0XFF,0X24,0XFF,0XFF,0XFF,0XF3,0XFF,0XFF,0XFC,0X7F,0XFF,0X87,0X8C,0X7F,0XFF,
0XFF,0XFE,0X66,0X7F,0XFF,0XFF,0XF3,0XFF,0XFF,0XFC,0X7F,0XFF,0X00,0X00,0X7F,0XFF,
0XFF,0XE2,0X66,0X7F,0XFF,0XFF,0XF1,0XFF,0XFF,0XFC,0X7F,0XFF,0X00,0X00,0X7F,0XFF,
0XFF,0XC6,0X66,0X7F,0XFF,0XFF,0XF1,0XFF,0XFF,0XFC,0X7F,0XFF,0X00,0X00,0X7F,0XFF,
0XFF,0XDF,0X06,0X7F,0XFF,0XFF,0XF8,0XFF,0XFF,0XFC,0X7F,0XFF,0X00,0X00,0X7F,0XFF,
0XFF,0XFF,0X06,0X7F,0XFF,0XFF,0XF8,0XFF,0XFF,0XFC,0X7F,0XFF,0X00,0X00,0X7F,0XFF,
0XFF,0XFF,0XE7,0XFF,0XFF,0XFF,0XFC,0X7F,0XFF,0XFC,0X7F,0XFF,0XFF,0X8C,0X7F,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFC,0X3F,0XFF,0XFC,0X7F,0XFF,0XFF,0X8C,0X7F,0XFF,
0XFF,0XFF,0XFF,0X7F,0XFF,0XFF,0XFE,0X07,0XFF,0XFC,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFE,0X7E,0X7F,0XFF,0XFF,0XFF,0X80,0XFF,0XFC,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFE,0X7E,0X7F,0XFF,0XFF,0XFF,0XE0,0XFF,0XFC,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFE,0X00,0X7F,0XFF,0XFF,0XFF,0XFC,0XFF,0XF8,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0X00,0X7F,0XFF,0XFF,0XFF,0XFC,0X7F,0XF8,0XFF,0XFF,0XC7,0XFF,0XFF,0XFF,
0XFF,0XFF,0X3E,0X7F,0XFF,0XFF,0XFF,0XFC,0X3F,0XF1,0XFF,0XFF,0X83,0XFF,0XFF,0XFF,
0XFF,0XFE,0X7E,0X7F,0XFF,0XFF,0XFF,0XFE,0X1F,0XE1,0XFF,0XFF,0XBB,0XFF,0XFF,0XFF,
0XFF,0XFE,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0X07,0X83,0XFF,0XFF,0X93,0XFF,0XFF,0XFF,
0XFF,0XFE,0X1F,0XFF,0XFF,0XFF,0XFF,0XFF,0X80,0X07,0XFF,0XFF,0XC7,0XFF,0XFF,0XFF,
0XFF,0XFF,0X1F,0XFF,0XFF,0XFF,0XFF,0XFF,0XE0,0X1F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF0,0X07,0XFF,0XFF,
0XFF,0XFF,0XC3,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XC0,0X01,0XFF,0XFF,
0XFF,0XFF,0X00,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X87,0XE1,0XFF,0XFF,
0XFF,0XFF,0X3C,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X9F,0XF9,0XFF,0XFF,
0XFF,0XFE,0X7E,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X83,0XC1,0XFF,0XFF,
0XFF,0XFE,0X7E,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X83,0XC3,0XFF,0XFF,
0XFF,0XFE,0X7E,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFE,0X3E,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0X3E,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0X81,0XFF,0XFF,0XFE,0X00,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0X00,0XFF,0XFF,0XFE,0XF3,0XFF,0XFE,0X03,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0X3C,0X7F,0XFF,0XFE,0XF7,0XFF,0XFE,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFE,0X7E,0X7F,0XFF,0XFE,0XF7,0XFF,0XFE,0X03,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFE,0X7E,0X7F,0XFF,0XFE,0X67,0XFF,0XFF,0X03,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFE,0X7E,0X7F,0XFF,0XFF,0X0F,0XFF,0XFE,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0X00,0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0X03,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0X81,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XB0,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XB6,0XFF,0XFE,0XFB,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XE7,0XFF,0XFF,0XFF,0XFF,0XB6,0XFF,0XFE,0XFB,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XE7,0XFF,0XFF,0XFF,0XFF,0X94,0XFF,0XFA,0X03,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XE7,0XFF,0XFF,0XFF,0XFF,0XC0,0XFF,0XE2,0X03,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XE0,0X01,0XFF,0XFF,0XFF,0XFE,0XFF,0XEF,0XFB,0XFF,0XFF,0XFF,0X99,0X9F,0XFF,
0XFF,0XE0,0X00,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFB,0XFF,0XFF,0XFF,0X99,0X9F,0XFF,
0XFF,0XFF,0XFC,0X7F,0XFF,0XFF,0XBE,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X88,0X8F,0XFF,
0XFF,0XFF,0XFE,0X7F,0XFF,0XFF,0X9C,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XCC,0XCF,0XFF,
0XFF,0XFF,0XFE,0X7F,0XFF,0XFF,0X80,0XFF,0XFE,0X03,0XFF,0XFF,0XFF,0XCC,0XCF,0XFF,
0XFF,0XFF,0XFE,0X7F,0XFF,0XFF,0XDE,0XFF,0XFF,0X7F,0XFF,0XFF,0XFF,0X88,0X8F,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XBE,0XFF,0XFE,0XFF,0XFF,0XFF,0XFF,0X90,0X1F,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X9F,0XFF,0XFE,0X7F,0XFF,0XFF,0XFF,0X80,0X0F,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X8F,0XFF,0XFE,0X03,0XFF,0XFF,0XFF,0X00,0X07,0XFF,
0XFF,0XFF,0X81,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFC,0X0C,0XC3,0XFF,
0XFF,0XFF,0X00,0XFF,0XFF,0XFF,0XF7,0XFF,0XFF,0XFF,0XFF,0XFF,0XF0,0XCC,0XC1,0XFF,
0XFF,0XFE,0X66,0X7F,0XFF,0XFF,0XC1,0XFF,0XFF,0XFF,0XFF,0XFF,0XE3,0XCC,0XC8,0XFF,
0XFF,0XFE,0X66,0X7F,0XFF,0XFF,0X9C,0XFF,0XFF,0XFF,0XFF,0XFF,0X87,0X99,0X9C,0X7F,
0XFF,0XFE,0X66,0X7F,0XFF,0XFF,0XBE,0XFF,0XFF,0XFF,0XFF,0XFF,0X1F,0X99,0X9E,0X7F,
0XFF,0XFE,0X66,0X7F,0XFF,0XFF,0XBE,0XFF,0XFF,0XFF,0XFF,0XFC,0X3F,0X99,0X9E,0X3F,
0XFF,0XFF,0X06,0X7F,0XFF,0XFF,0X9E,0XFF,0XFF,0XFF,0XFF,0XF8,0XFF,0X88,0X8F,0X3F,
0XFF,0XFF,0X86,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF1,0XFF,0XCC,0XCF,0X3F,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XC3,0XFF,0XCC,0XCF,0X3F,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0XFF,0XFF,0XFF,0XFF,0XC3,0XFF,0X88,0X8F,0X3F,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XBE,0XFF,0XFE,0X0F,0XFF,0XF1,0XFF,0X99,0X9F,0X3F,
0XFF,0XFF,0X9E,0X7F,0XFF,0XFF,0XBE,0XFF,0XF8,0XE3,0XFF,0XF8,0XFF,0X99,0X9F,0X3F,
0XFF,0XFF,0X0E,0X7F,0XFF,0XFC,0X80,0XFF,0XFB,0XFB,0XFF,0XFC,0X3F,0XFF,0XFE,0X3F,
0XFF,0XFE,0X06,0X7F,0XFF,0XFF,0XFE,0XFF,0XFB,0XFB,0XFF,0XFF,0X1F,0XFF,0XFE,0X7F,
0XFF,0XFE,0X66,0X7F,0XFF,0XFF,0XFE,0XFF,0XF9,0XF3,0XFF,0XFF,0X87,0XFF,0XFC,0X7F,
0XFF,0XFE,0X66,0X7F,0XFF,0XFF,0XFF,0XFF,0XFC,0X07,0XFF,0XFF,0XE3,0XFF,0XF8,0XFF,
0XFF,0XFE,0X76,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF0,0XFF,0XF1,0XFF,
0XFF,0XFE,0X70,0X7F,0XFF,0XFF,0XF8,0XFF,0XFF,0XFF,0XFF,0XFF,0XFC,0X3F,0XE3,0XFF,
0XFF,0XFE,0X78,0XFF,0XFF,0XFF,0XB6,0XFF,0XFC,0XC7,0XFF,0XFF,0XFF,0X07,0X07,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XB6,0XFF,0XF8,0X13,0XFF,0XFF,0XFF,0XC0,0X0F,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X96,0XFF,0XFB,0X3B,0XFF,0XFF,0XFF,0XF0,0X7F,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XC0,0XFF,0XFB,0X3B,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF8,0XFF,0XF8,0X13,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0XFF,0XFC,0XC7,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFD,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFD,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XE0,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFC,0X3F,0XFF,0XFC,0XFF,0XFF,0XFF,0XE0,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFC,0X00,0XFF,0XF8,0X7F,0XFF,0XFF,0XE0,0XFE,0X1F,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0XFF,0XFB,0X7F,0XFF,0XFF,0XE0,0XFE,0X1F,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0XFF,0XFB,0X7F,0XFF,0XFF,0XE3,0XFC,0X1F,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0XFF,0XF8,0X7F,0XFF,0XFF,0XE3,0XF0,0X1F,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XE3,0XC0,0X1F,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X80,0XFF,0XFF,0XFF,0XFF,0XFF,0XE3,0X00,0X1F,0XFF,
0XFF,0XF9,0XFC,0X7F,0XFF,0XFF,0X80,0XFF,0XFF,0X1F,0XFF,0XFF,0XE2,0X00,0X1F,0XFF,
0XFF,0XF3,0XFC,0X7F,0XFF,0XFF,0XBF,0XFF,0XFC,0X07,0XFF,0XFF,0XE0,0X00,0X1F,0XFF,
0XFF,0XF3,0XF8,0X7F,0XFF,0XFF,0X80,0XFF,0XF9,0XF3,0XFF,0XFF,0XE0,0X0E,0X1F,0XFF,
0XFF,0XF3,0XF2,0X7F,0XFF,0XFF,0XBF,0XFF,0XFB,0XFB,0XFF,0XFF,0XE0,0X3E,0X1F,0XFF,
0XFF,0XF3,0XE2,0X7F,0XFF,0XFF,0X80,0XFF,0XFB,0XFB,0XFF,0XFF,0XE0,0XFF,0XFF,0XFF,
0XFF,0XF1,0X86,0X7F,0XFF,0XFF,0X80,0XFF,0XFB,0XFB,0XFF,0XFF,0XE3,0XFF,0XFF,0XFF,
0XFF,0XF8,0X1E,0X7F,0XFF,0XFF,0XFF,0XFF,0XFB,0XFB,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFE,0X7E,0X7F,0XFF,0XFF,0XF7,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XC1,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XB4,0XFF,0XFF,0XFF,0XFF,0XFF,0XFC,0XFE,0X1F,0XFF,
0XFF,0XF0,0X7F,0XFF,0XFF,0XFF,0XB6,0XFF,0XFF,0XFF,0XFF,0XFF,0XF0,0XFC,0X1F,0XFF,
0XFF,0XF0,0X7F,0XFF,0XFF,0XFF,0X96,0XFF,0XFF,0XFF,0XFF,0XFF,0XE0,0XF0,0X1F,0XFF,
0XFF,0XF3,0XFF,0XFF,0XFF,0XFF,0XC6,0XFF,0XFF,0XFF,0XFF,0XFF,0XE0,0XF0,0X1F,0XFF,
0XFF,0XF3,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XE0,0XE0,0X1F,0XFF,
0XFF,0XF3,0XFC,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XC3,0XC0,0X1F,0XFF,
0XFF,0XF3,0XE0,0X7F,0XFF,0XFF,0X80,0XFF,0XFF,0XFF,0XFF,0XFF,0XC3,0X82,0X1F,0XFF,
0XFF,0XF3,0X03,0XFF,0XFF,0XFF,0X80,0XFF,0XFF,0XFD,0XFF,0XFF,0XC3,0X06,0X1F,0XFF,
0XFF,0XF0,0X1F,0XFF,0XFF,0XFF,0X9F,0XFF,0XFF,0XF1,0XFF,0XFF,0XC0,0X06,0X1F,0XFF,
0XFF,0XF0,0XFF,0XFF,0XFF,0XFF,0XBF,0XFF,0XFF,0XC7,0XFF,0XFF,0XE0,0X0E,0X1F,0XFF,
0XFF,0XF7,0XFF,0XFF,0XFF,0XFF,0X9F,0XFF,0XFE,0X1F,0XFF,0XFF,0XE0,0X1C,0X1F,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XC0,0XFF,0XF8,0XFF,0XFF,0XFF,0XF0,0X1C,0X1F,0XFF,
0XFF,0XFF,0XFF,0XDF,0XFF,0XFF,0XFF,0XFF,0XE3,0XFF,0XFF,0XFF,0XF8,0X7C,0X1F,0XFF,
0XFF,0XFF,0XFF,0X1F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFC,0X3F,0XFF,0XFF,0XBF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XE0,0XFF,0XFF,0XFE,0X01,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0X83,0XFF,0XFF,0XFE,0X00,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFE,0X0F,0XFF,0XFF,0XFF,0XBE,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XF8,0X7F,0XFF,0XFF,0XFF,0XBE,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XE1,0XFF,0XFF,0XFF,0XFF,0XBE,0XFF,0XFF,0XFF,0XFF,0XFF,0XF8,0X1F,0XFF,0XFF,
0XFF,0XC7,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF1,0XCF,0XBF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF3,0X8E,0X3F,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XC1,0XFF,0XFF,0XFF,0XFF,0XFF,0XF8,0X18,0XFF,0XFF,
0XFF,0XFF,0X07,0XFF,0XFF,0XFF,0X90,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XE3,0XFF,0XFF,
0XFF,0XF8,0X00,0XFF,0XFF,0XFF,0XB6,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X8F,0XFF,0XFF,
0XFF,0XF0,0XF8,0X7F,0XFF,0XFF,0XB6,0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0X3F,0XFF,0XFF,
0XFF,0XF3,0XDE,0X7F,0XFF,0XFF,0X86,0XFF,0XFF,0XFF,0XFF,0XFF,0XF8,0XE0,0X3F,0XFF,
0XFF,0XF3,0X8E,0X7F,0XFF,0XFF,0XE6,0XFF,0XFF,0XFF,0XFF,0XFF,0XF3,0XCF,0X3F,0XFF,
0XFF,0XF3,0XCE,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XE0,0X3F,0XFF,
0XFF,0XF1,0XFC,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XF8,0X00,0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0X03,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFE,0X03,0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0X03,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0X03,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFC,0X3F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XF8,0X0E,0X7F,0XFF,0XFF,0XFF,0XFF,0XFE,0X03,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XF1,0XCE,0X7F,0XFF,0XFF,0XFF,0XFF,0XFE,0X03,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XF3,0XCE,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XF3,0XEE,0X7F,0XFF,0XFF,0X80,0XFF,0XFF,0XE7,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XF3,0XCC,0XFF,0XFF,0XFF,0XDF,0XFF,0XFE,0XC3,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XF1,0XD9,0XFF,0XFF,0XFF,0XBF,0XFF,0XFE,0XDB,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XF8,0X03,0XFF,0XFF,0XFF,0X9F,0XFF,0XF2,0XDB,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFC,0X07,0XFF,0XFF,0XFF,0X80,0XFF,0XE6,0X47,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X03,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFB,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XDF,0XFF,0XFF,0X81,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFE,0X1F,0XFF,0XFF,0X80,0XFF,0XFE,0XFB,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XF8,0X3F,0XFF,0XFF,0XFE,0XFF,0XFE,0X73,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XE0,0XFF,0XFF,0XFF,0XFE,0XFF,0XFF,0X07,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0X87,0XFF,0XFF,0XFF,0X88,0XFF,0XFF,0X8F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFE,0X1F,0XFF,0XFF,0XFF,0X80,0XFF,0XFF,0X27,0XFF,0XFF,0XFF,0X3F,0XFF,0XFF,
0XFF,0XF0,0X7F,0XFF,0XFF,0XFF,0XFE,0XFF,0XFE,0X73,0XFF,0XFF,0XFE,0X1F,0XFF,0XFF,
0XFF,0XC1,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFC,0X1F,0XFF,0XFF,
0XFF,0XCF,0XFF,0XFF,0XFF,0XFC,0X00,0XFF,0XFF,0XFF,0XFF,0XFF,0XF8,0X9F,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFC,0X00,0XFF,0XFF,0XFF,0XFF,0XFF,0XF1,0X9F,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X9E,0XFF,0XFF,0XFF,0XFF,0XFF,0XE3,0X80,0X01,0XFF,
0XFF,0XF9,0XFE,0X7F,0XFF,0XFF,0XBE,0XFF,0XFF,0XFF,0XFF,0XFF,0XC7,0X80,0X00,0XFF,
0XFF,0XF9,0XFC,0X7F,0XFF,0XFF,0X9D,0XFF,0XFF,0XFF,0XFF,0XFF,0X8F,0XFF,0XFC,0XFF,
0XFF,0XF3,0XFC,0X7F,0XFF,0XFF,0XC1,0XFF,0XFF,0XFF,0XFF,0XFF,0X1F,0XFF,0XFC,0XFF,
0XFF,0XF3,0XF8,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0X3F,0XFF,0XFC,0XFF,
0XFF,0XF3,0XF2,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFC,0X7E,0X77,0X7C,0XFF,
0XFF,0XF3,0XC6,0X7F,0XFF,0XFD,0XFF,0XFF,0XFF,0XFF,0XFF,0XF8,0XFC,0X46,0X3C,0XFF,
0XFF,0XF0,0X0E,0X7F,0XFF,0XFC,0XFF,0XFF,0XF9,0XF3,0XFF,0XF1,0XF8,0XCC,0X7C,0XFF,
0XFF,0XF8,0X1E,0X7F,0XFF,0XFC,0X00,0XFF,0XFB,0XF3,0XFF,0XE3,0XF9,0X9C,0XFC,0XFF,
0XFF,0XFF,0XFE,0X7F,0XFF,0XFF,0XFE,0XFF,0XFB,0XEB,0XFF,0XC7,0XF9,0X9C,0XFC,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0XFF,0XFB,0XDB,0XFF,0X8F,0XF9,0X8C,0XFC,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0XFF,0XF8,0X3B,0XFF,0X9F,0XF8,0XCC,0X7C,0XFF,
0XFF,0XFE,0X03,0XFF,0XFF,0XFF,0XFF,0XFF,0XFC,0XFB,0XFF,0X8F,0XFC,0XC6,0X7C,0XFF,
0XFF,0XF8,0X00,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XC7,0XFE,0X66,0X7C,0XFF,
0XFF,0XF1,0XFC,0X7F,0XFF,0XFF,0XB0,0XFF,0XFF,0XFF,0XFF,0XE3,0XFE,0X66,0X7C,0XFF,
0XFF,0XF3,0XCE,0X7F,0XFF,0XFF,0XB6,0XFF,0XF9,0XFB,0XFF,0XF1,0XFC,0XC6,0X7C,0XFF,
0XFF,0XF3,0X8E,0X7F,0XFF,0XFF,0XB6,0XFF,0XFB,0XFB,0XFF,0XF8,0XF8,0XCC,0XFC,0XFF,
0XFF,0XF3,0XDE,0X7F,0XFF,0XFF,0X94,0XFF,0XF8,0X03,0XFF,0XFC,0X7B,0XDD,0XFC,0XFF,
0XFF,0XF0,0XF8,0X7F,0XFF,0XFF,0XC0,0XFF,0XF8,0X03,0XFF,0XFE,0X3F,0XFF,0XFC,0XFF,
0XFF,0XF8,0X00,0XFF,0XFF,0XFF,0XFE,0XFF,0XFF,0XFB,0XFF,0XFF,0X1F,0XFF,0XFC,0XFF,
0XFF,0XFE,0X03,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFB,0XFF,0XFF,0X8F,0XFF,0XFC,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XE3,0XFF,0XFF,0XFF,0XFF,0XFF,0XC7,0X80,0X00,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X80,0XFF,0XFF,0XFF,0XFF,0XFF,0XE3,0X80,0X01,0XFF,
0XFF,0XF9,0XFE,0X7F,0XFF,0XFF,0XBE,0XFF,0XFC,0X7F,0XFF,0XFF,0XF1,0X9F,0XFF,0XFF,
0XFF,0XF1,0XFC,0X7F,0XFF,0XFF,0XBE,0XFF,0XFB,0X7F,0XFF,0XFF,0XF8,0X9F,0XFF,0XFF,
0XFF,0XF3,0XF8,0X7F,0XFF,0XFF,0XDD,0XFF,0XFB,0X3F,0XFF,0XFF,0XFC,0X1F,0XFF,0XFF,
0XFF,0XF3,0XF8,0X7F,0XFF,0XFC,0X00,0XFF,0XFB,0X7F,0XFF,0XFF,0XFE,0X1F,0XFF,0XFF,
0XFF,0XF3,0XF2,0X7F,0XFF,0XFF,0XFF,0XFF,0XF8,0X7F,0XFF,0XFF,0XFF,0X3F,0XFF,0XFF,
0XFF,0XF3,0XC6,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XF8,0X0E,0X7F,0XFF,0XFF,0XE3,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFC,0X3E,0X7F,0XFF,0XFF,0XC1,0XFF,0XFE,0X0F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFE,0X7F,0XFF,0XFF,0X9E,0XFF,0XFC,0X47,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XBE,0XFF,0XFB,0XF3,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X9C,0XFF,0XFB,0XFB,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFB,0XFE,0X7F,0XFF,0XFF,0XC1,0XFF,0XFB,0XFB,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XF9,0XFE,0X7F,0XFF,0XFF,0XFF,0XFF,0XFB,0XFB,0XFF,0XFF,0XFF,0X00,0X7F,0XFF,
0XFF,0XF3,0XDE,0X7F,0XFF,0XFF,0XFF,0XFF,0XFB,0XFB,0XFF,0XFF,0XFE,0X00,0X3F,0XFF,
0XFF,0XF3,0XDE,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFC,0X3E,0X1F,0XFF,
0XFF,0XF3,0X9E,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFC,0XFF,0X1F,0XFF,
0XFF,0XF3,0X8E,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFC,0XFF,0X9F,0XFF,
0XFF,0XF0,0X60,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFC,0X7F,0X1F,0XFF,
0XFF,0XF8,0X60,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFC,0X3E,0X1F,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0X00,0X3F,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X00,0X7F,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFC,0X00,0X1F,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFC,0X00,0X1F,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFC,0X00,0X1F,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF3,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XE3,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XC0,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0X00,0X1F,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFC,0X1C,0X1F,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFC,0X3F,0X1F,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XDF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
};


static struct net_mgmt_event_callback wifi_cb;
static struct net_mgmt_event_callback ipv4_cb;

static void handle_wifi_connect_result(struct net_mgmt_event_callback *cb)
{
    const struct wifi_status *status = (const struct wifi_status *)cb->info;

    if (status->status)
    {
        printk("Connection request failed (%d)\n", status->status);
    }
    else
    {
        printk("Connected\n");
    }
}

static void handle_wifi_disconnect_result(struct net_mgmt_event_callback *cb)
{
    const struct wifi_status *status = (const struct wifi_status *)cb->info;

    if (status->status)
    {
        printk("Disconnection request (%d)\n", status->status);
    }
    else
    {
        printk("Disconnected\n");
    }
}

static void handle_ipv4_result(struct net_if *iface)
{
    int i = 0;

    for (i = 0; i < NET_IF_MAX_IPV4_ADDR; i++) {

        char buf[NET_IPV4_ADDR_LEN];

        if (iface->config.ip.ipv4->unicast[i].addr_type != NET_ADDR_DHCP) {
            continue;
        }

        printk("IPv4 address: %s\n",
                net_addr_ntop(AF_INET,
                                &iface->config.ip.ipv4->unicast[i].address.in_addr,
                                buf, sizeof(buf)));
        printk("Subnet: %s\n",
                net_addr_ntop(AF_INET,
                                &iface->config.ip.ipv4->netmask,
                                buf, sizeof(buf)));
        printk("Router: %s\n",
                net_addr_ntop(AF_INET,
                                &iface->config.ip.ipv4->gw,
                                buf, sizeof(buf)));
        }

}

static void wifi_mgmt_event_handler(struct net_mgmt_event_callback *cb, uint32_t mgmt_event, struct net_if *iface)
{
    switch (mgmt_event)
    {

        case NET_EVENT_WIFI_CONNECT_RESULT:
            handle_wifi_connect_result(cb);
            break;

        case NET_EVENT_WIFI_DISCONNECT_RESULT:
            handle_wifi_disconnect_result(cb);
            break;

        case NET_EVENT_IPV4_ADDR_ADD:
            handle_ipv4_result(iface);
            break;

        default:
            break;
    }
}

bool wifi_connect(uint8_t* ssid, ssize_t len_ssid, uint8_t* pass, ssize_t len_pass)
{
    struct net_if *iface = net_if_get_default();

    struct wifi_connect_req_params wifi_params = {0};

    wifi_params.ssid = ssid;
    wifi_params.psk = pass;
    wifi_params.ssid_length = len_ssid;
    wifi_params.psk_length = len_pass;
    wifi_params.channel = WIFI_CHANNEL_ANY;
    wifi_params.security = WIFI_SECURITY_TYPE_PSK;
    wifi_params.band = WIFI_FREQ_BAND_2_4_GHZ; 
    wifi_params.mfp = WIFI_MFP_OPTIONAL;

    printk("Connecting to SSID: %s\n", wifi_params.ssid);

    if (net_mgmt(NET_REQUEST_WIFI_CONNECT, iface, &wifi_params, sizeof(struct wifi_connect_req_params)))
    {
        printk("WiFi Connection Request Failed\n");
        return false;
    }
    return true;
}

void wifi_status(void)
{
    struct net_if *iface = net_if_get_default();
    
    struct wifi_iface_status status = {0};

    if (net_mgmt(NET_REQUEST_WIFI_IFACE_STATUS, iface, &status,	sizeof(struct wifi_iface_status)))
    {
        printk("WiFi Status Request Failed\n");
    }

    printk("\n");

    if (status.state >= WIFI_STATE_ASSOCIATED) {
        printk("SSID: %-32s\n", status.ssid);
        printk("Band: %s\n", wifi_band_txt(status.band));
        printk("Channel: %d\n", status.channel);
        printk("Security: %s\n", wifi_security_txt(status.security));
        printk("RSSI: %d\n", status.rssi);
    }
}

void wifi_disconnect(void)
{
    struct net_if *iface = net_if_get_default();

    if (net_mgmt(NET_REQUEST_WIFI_DISCONNECT, iface, NULL, 0))
    {
        printk("WiFi Disconnection Request Failed\n");
    }
}

static const struct bt_data ad[] = {
	BT_DATA_BYTES(BT_DATA_FLAGS, (BT_LE_AD_GENERAL | BT_LE_AD_NO_BREDR)),
	BT_DATA_BYTES(BT_DATA_UUID16_ALL,
		      BT_UUID_16_ENCODE(BT_UUID_HRS_VAL),
		      BT_UUID_16_ENCODE(BT_UUID_BAS_VAL),
		      BT_UUID_16_ENCODE(BT_UUID_DIS_VAL))
};

// Definir una variable global para almacenar el valor de la característica
static char wifi_ssid[50];
static bool wifi_ssid_set = false;

static char wifi_pass[50];
static bool wifi_pass_set = false;

// Función para manejar las solicitudes de escritura en la característica WiFi
static ssize_t write_ssid(struct bt_conn *conn, const struct bt_gatt_attr *attr,
                          const void *buf, uint16_t len, uint16_t offset,
                          uint8_t flags)
{
    if (offset + len > sizeof(wifi_ssid)) {
        return BT_GATT_ERR(BT_ATT_ERR_INVALID_OFFSET);
    }

    memset(wifi_ssid, 0, 50);
    memcpy(wifi_ssid + offset, buf, len);
    wifi_ssid_set = true;

    return len;
}

static ssize_t write_pass(struct bt_conn *conn, const struct bt_gatt_attr *attr,
                          const void *buf, uint16_t len, uint16_t offset,
                          uint8_t flags)
{
    if (offset + len > sizeof(wifi_pass)) {
        return BT_GATT_ERR(BT_ATT_ERR_INVALID_OFFSET);
    }

    memset(wifi_pass, 0, 50);
    memcpy(wifi_pass + offset, buf, len);
    wifi_pass_set = true;

    return len;
}

#define BT_UUID_WIFI_SVC         BT_UUID_DECLARE_16(0x1820) //Internet Protocol Support service

#define BT_UUID_WIFI_SSID_CHRC   BT_UUID_DECLARE_16(0x2b37) //Registered User

#define BT_UUID_WIFI_PASS_CHRC   BT_UUID_DECLARE_16(0x2a02) //Peripheral Privacy Flag

BT_GATT_SERVICE_DEFINE(wifi_svc,
	BT_GATT_PRIMARY_SERVICE(BT_UUID_WIFI_SVC),

  /* WiFi */
  BT_GATT_CHARACTERISTIC(BT_UUID_WIFI_SSID_CHRC,
             BT_GATT_CHRC_READ | BT_GATT_CHRC_WRITE,
			       BT_GATT_PERM_WRITE,
			       NULL, write_ssid, wifi_ssid),

	BT_GATT_CUD("SSID Wi-Fi", BT_GATT_PERM_READ),

  BT_GATT_CHARACTERISTIC(BT_UUID_WIFI_PASS_CHRC,
             BT_GATT_CHRC_READ | BT_GATT_CHRC_WRITE,
			       BT_GATT_PERM_WRITE,
			       NULL, write_pass, wifi_pass),

	BT_GATT_CUD("PASS Wi-Fi", BT_GATT_PERM_READ)
);

typedef struct {
	uint16_t year;
	uint8_t month;
	uint8_t day;
	uint8_t hours;
	uint8_t minutes;
	uint8_t seconds;
	uint8_t day_of_week;
	uint8_t exact_time_256;
	uint8_t adjust_reason;
} cts_datetime_t;


static struct {
	int offset;
	cts_datetime_t datetime;
} m_read_buf;

static struct bt_uuid_16 uuid = BT_UUID_INIT_16(0);
static struct bt_gatt_read_params read_params;

static struct tm hora = { 0 };

uint8_t cts_sync_read(struct bt_conn *conn, uint8_t err,
				    struct bt_gatt_read_params *params,
				    const void *data, uint16_t length)
{

	if (!data || length <= 0) {
		return BT_GATT_ITER_STOP;
	}

	memcpy(&m_read_buf.datetime + m_read_buf.offset, data, length);
	m_read_buf.offset += length;
    printk("%d:%d:%d %02d/%02d/%04d\n", m_read_buf.datetime.hours, m_read_buf.datetime.minutes, m_read_buf.datetime.seconds, m_read_buf.datetime.day, m_read_buf.datetime.month, m_read_buf.datetime.year);

    hora.tm_sec = m_read_buf.datetime.seconds;
    hora.tm_min = m_read_buf.datetime.minutes;
    hora.tm_hour = m_read_buf.datetime.hours;
    hora.tm_mday = m_read_buf.datetime.day;
    hora.tm_mon = m_read_buf.datetime.month - 1;
    hora.tm_year = m_read_buf.datetime.year - 1900;
    hora.tm_wday = m_read_buf.datetime.day_of_week;
    hora.tm_yday = -1;
    hora.tm_isdst = -1;



    time_t epoch = timeutil_timegm(&hora);
    struct timespec tspec;
    tspec.tv_sec = epoch;
    tspec.tv_nsec= 0;
    printk("Epoch: %lld\n", epoch);
    clock_settime(CLOCK_REALTIME, &tspec);

	return BT_GATT_ITER_CONTINUE;
}

static void connected(struct bt_conn *conn, uint8_t err)
{
	if (err) {
		printk("Connection failed (err 0x%02x)\n", err);
	} else {
		printk("Connected\n");
		memcpy(&uuid, BT_UUID_CTS_CURRENT_TIME, sizeof(uuid));
		memset(&read_params, 0, sizeof(read_params));
		read_params.func = cts_sync_read;
		read_params.by_uuid.uuid = (struct bt_uuid *) &uuid;
		read_params.by_uuid.start_handle = 0x0001;//attr->handle;
		read_params.by_uuid.end_handle = 0xffff;
		m_read_buf.offset = 0;
		bt_gatt_read(conn, &read_params);
	}
}

static void disconnected(struct bt_conn *conn, uint8_t reason)
{
	printk("Disconnected (reason 0x%02x)\n", reason);
}

BT_CONN_CB_DEFINE(conn_callbacks) = {
	.connected = connected,
	.disconnected = disconnected,
};

static void bt_ready(void)
{
	int err;

	printk("Bluetooth initialized\n");

	err = bt_le_adv_start(BT_LE_ADV_CONN_NAME, ad, ARRAY_SIZE(ad), NULL, 0);
	if (err) {
		printk("Advertising failed to start (err %d)\n", err);
		return;
	}

	printk("Advertising successfully started\n");
}

static void auth_cancel(struct bt_conn *conn)
{
	char addr[BT_ADDR_LE_STR_LEN];

	bt_addr_le_to_str(bt_conn_get_dst(conn), addr, sizeof(addr));

	printk("Pairing cancelled: %s\n", addr);
}

static struct bt_conn_auth_cb auth_cb_display = {
	.cancel = auth_cancel,
};


void gpio_init(){
    // if (!device_is_ready(edp_cs_pin.port) && !device_is_ready(edp_dc_pin.port)) {
	// 	printk("GPIO port initialization error\n");
	// 	return;
	// }
	// int ret;
	// ret = gpio_pin_configure_dt(&edp_cs_pin, GPIO_OUTPUT_ACTIVE);
	// if (ret < 0) {
	// 	return;
	// }
	// ret = gpio_pin_configure_dt(&edp_dc_pin, GPIO_OUTPUT_ACTIVE);
	// if (ret < 0) {
	// 	return;
	// }
	// ret = gpio_pin_configure_dt(&edp_res_pin, GPIO_OUTPUT_ACTIVE);
	// if (ret < 0) {
	// 	return;
	// }
	// ret = gpio_pin_configure_dt(&edp_busy_pin, GPIO_INPUT | GPIO_PULL_UP);
	// if (ret < 0) {
	// 	return;
	// }

	// printk("GPIO pins initialized correctly\n");
    // ret = gpio_pin_set_dt(&edp_res_pin, 0);
    // printk("pin reset low: %d\n", ret);
}

int main(void)
{
	int err;

    const struct device *display;
	display = DEVICE_DT_GET(DT_CHOSEN(zephyr_display));

	printk("Iniciando app\n");
    memset(wifi_ssid, 0, 50);
    memset(wifi_pass, 0, 50);

    // gpio_init();

	err = bt_enable(NULL);
	if (err) {
		printk("Bluetooth init failed (err %d)\n", err);
		return 0;
	}

	bt_ready();

	bt_conn_auth_cb_register(&auth_cb_display);

    // EPD_HW_Init(); //Electronic paper initialization
    // EPD_WhiteScreen_White();
	// EPD_WhiteScreen_ALL(gImage_concepto_minora); //Refresh the picture in full screen

    if(display == NULL){
        printk("Error display\n");
    }

    if(!device_is_ready(display)){
        printk("Error dev display\n");
    }

    display_set_pixel_format(display, PIXEL_FORMAT_MONO10);

    int ret = cfb_framebuffer_init(display);
    printk("ret framebuffer=%d\n", ret);

    cfb_framebuffer_clear(display, true);

	display_blanking_off(display);

    ret = cfb_print(display, "SALUDOS :D", 5, 5);
    printk("ret print framebuffer=%d\n", ret);

    ret = cfb_framebuffer_finalize(display);
    printk("ret print finalize=%d\n", ret);


	net_mgmt_init_event_callback(&wifi_cb, wifi_mgmt_event_handler,
                                 NET_EVENT_WIFI_CONNECT_RESULT | NET_EVENT_WIFI_DISCONNECT_RESULT);

    net_mgmt_init_event_callback(&ipv4_cb, wifi_mgmt_event_handler, NET_EVENT_IPV4_ADDR_ADD);

    net_mgmt_add_event_callback(&wifi_cb);
    net_mgmt_add_event_callback(&ipv4_cb);



	while (1) {
		k_sleep(K_SECONDS(1));
        struct timespec tspec;
        clock_gettime(CLOCK_REALTIME, &tspec);
        struct tm *tiempo;
        tiempo = gmtime(&tspec.tv_sec);
        printk("Hora: %02d:%02d:%02d del %02d/%02d/%04d\n", tiempo->tm_hour, tiempo->tm_min, tiempo->tm_sec, tiempo->tm_mday, tiempo->tm_mon + 1, tiempo->tm_year + 1900);
        // printk("get epoch: %lld\n", tspec.tv_sec);
        if(wifi_ssid_set && wifi_pass_set){
            if(wifi_connect(wifi_ssid, strlen(wifi_ssid), wifi_pass, strlen(wifi_pass))){
                wifi_ssid_set = false;
                wifi_pass_set = false;
            }
        }

	}
	return 0;
}